<!doctype html>
<html lang="sl">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Celozaslonski prikaz slik</title>
  <style>
    :root {
      --btn-size: 64px;          /* velikost gumbov (lahko povečaš) */
      --btn-padding: 0.75rem 1rem;
      --btn-radius: 999px;
    }

    html, body {
      height: 100%;
      margin: 0;
    }

    body {
      background: #000;
      color: #fff;
      font-family: system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
      overflow: hidden; /* brez vertikalnega scrolla */
    }

    /* Glavni “viewer” zapolni cel viewport */
    .viewer {
      position: relative;
      width: 100vw;
      height: 100vh;
      display: grid;
      place-items: center;
      background: #000;
      user-select: none;
      touch-action: pan-y; /* omogoči vertikalni pan, blokiraj pinch-zoom kretnje */
    }

    /* Slika se lepo prilagodi brez popačenja */
    .viewer img {
      width: 100vw;
      height: 100vh;
      object-fit: contain;   /* brez raztezanja, ohrani razmerje */
      object-position: center center;
      display: block;
      background: #000;      /* brez belega “flash-a” med nalaganjem */
    }

    /* Gumbi za navigacijo */
    .nav-btn {
      position: absolute;
      top: 50%;
      transform: translateY(-50%);
      height: var(--btn-size);
      min-width: calc(var(--btn-size) * 1.4);
      padding: var(--btn-padding);
      border-radius: var(--btn-radius);
      border: none;
      font-size: 1.1rem;
      font-weight: 600;
      color: #fff;
      background: rgba(0,0,0,0.55);
      backdrop-filter: blur(6px);
      cursor: pointer;
      outline: none;
      display: inline-flex;
      align-items: center;
      justify-content: center;
      gap: .5rem;
      transition: background .2s ease, transform .1s ease;
    }

    .nav-btn:hover,
    .nav-btn:focus-visible {
      background: rgba(255,255,255,0.18);
    }

    .nav-btn:active {
      transform: translateY(-50%) scale(0.98);
    }

    .nav-prev { left: 1rem; }
    .nav-next { right: 1rem; }

    /* Majhni namigi/spodnji info */
    .info {
      position: absolute;
      left: 50%;
      bottom: .75rem;
      transform: translateX(-50%);
      font-size: .9rem;
      color: rgba(255,255,255,0.85);
      background: rgba(0,0,0,0.4);
      padding: .35rem .6rem;
      border-radius: .5rem;
    }

    /* Večji gumbi na večjih zaslonih */
    @media (min-width: 768px) {
      :root { --btn-size: 72px; }
      .nav-btn { font-size: 1.125rem; }
    }
  </style>
</head>
<body>
  <div class="viewer" id="viewer" aria-live="polite">
    <img id="photo" src="" alt="Fotografija" />
    <button class="nav-btn nav-prev" id="prevBtn" aria-label="Prejšnja (levo)">
      ⟵ Prejšnja
    </button>
    <button class="nav-btn nav-next" id="nextBtn" aria-label="Naslednja (desno)">
      Naslednja ⟶
    </button>
    <div class="info" id="info">1 / 1</div>
  </div>

  <script>
    // TODO: zamenjaj s tvojimi potmi do slik
    const images = [
      "/static/images/book_Zgodovina1/Poglavje_3_3_1_AkadskaDrzava_57.jpg",
      "/static/images/book_Zgodovina1/Poglavje_3_3_1_AkadskaDrzava_58.jpg",
      "/static/images/book_Zgodovina1/Poglavje_3_3_2_AkadskaDrzava_Hetiti_59.jpg",
      "/static/images/book_Zgodovina1/Poglavje_3_3_3_StariBabilon_60.jpg",
      "/static/images/book_Zgodovina1/Poglavje_3_3_4_PropadBronasteDobe_61.jpg",
      "/static/images/book_Zgodovina1/Poglavje_3_3_4_PropadBronasteDobe_62.jpg"
    ];

    // ——— Če že imaš slike v HTML-u, lahko namesto zgornjega niza uporabiš to:
    // const images = [...document.querySelectorAll(".moja-galerija img")].map(img => img.src);

    const imgEl = document.getElementById("photo");
    const infoEl = document.getElementById("info");
    const prevBtn = document.getElementById("prevBtn");
    const nextBtn = document.getElementById("nextBtn");
    let idx = 0;

    function show(i) {
      if (!images.length) return;
      idx = (i + images.length) % images.length;
      imgEl.src = images[idx];
      infoEl.textContent = `${idx + 1} / ${images.length}`;
    }

    function next() { show(idx + 1); }
    function prev() { show(idx - 1); }

    prevBtn.addEventListener("click", prev);
    nextBtn.addEventListener("click", next);

    // Tipkovnica (← →, PageUp/PageDown, Home/End)
    window.addEventListener("keydown", (e) => {
      if (e.key === "ArrowRight" || e.key === "PageDown") next();
      else if (e.key === "ArrowLeft" || e.key === "PageUp") prev();
      else if (e.key === "Home") show(0);
      else if (e.key === "End") show(images.length - 1);
    });

    // Poteg (swipe) za mobilne naprave
    let startX = 0, startY = 0, isTouching = false;
    const swipeThreshold = 40; // px

    function onTouchStart(e) {
      isTouching = true;
      const t = e.changedTouches[0];
      startX = t.clientX; startY = t.clientY;
    }
    function onTouchEnd(e) {
      if (!isTouching) return;
      isTouching = false;
      const t = e.changedTouches[0];
      const dx = t.clientX - startX;
      const dy = t.clientY - startY;
      if (Math.abs(dx) > Math.abs(dy) && Math.abs(dx) > swipeThreshold) {
        dx < 0 ? next() : prev();
      }
    }
    const viewer = document.getElementById("viewer");
    viewer.addEventListener("touchstart", onTouchStart, { passive: true });
    viewer.addEventListener("touchend", onTouchEnd, { passive: true });

    // Začni
    show(0);

    // Prepreči “drag” slike (vizualne artefakte pri vlečenju)
    imgEl.addEventListener("dragstart", (e) => e.preventDefault());
  </script>
</body>
</html>
